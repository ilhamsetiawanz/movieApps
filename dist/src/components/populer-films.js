import{popularMovies}from"../js/api";import style from"../js/style";class popularFilms extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const t=document.createElement("template");t.innerHTML=`\n        ${style}\n         <div class="movieContiner">\n            <div class="movieItem">\n            \n            </div>\n        </div>\n        `,this.shadowRoot.appendChild(t.content.cloneNode(!0))}async connectedCallback(){const t=await popularMovies(),e=this.shadowRoot.querySelector(".movieItem");t.slice(0,12).forEach((t=>{const o=document.createElement("div");o.classList.add("movie"),o.innerHTML=`\n            <img src="https://image.tmdb.org/t/p/w500/${t.poster_path}" alt="${t.title}">\n            <h3>${t.title}</h3>\n            <p>${t.release_date}</p>\n            <button class="btn-detail" data-movie-id="${t.id}">Detail</button>\n            `,e.appendChild(o)})),this.shadowRoot.querySelectorAll(".btn-detail").forEach((t=>{t.addEventListener("click",(()=>{const e=t.getAttribute("data-movie-id");window.location.href=`page/film.html?id=${e}`}))}))}}customElements.define("populer-film",popularFilms);