import{tvSeries}from"../js/api";import style from"../js/style";class AnimeList extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const t=document.createElement("template");t.innerHTML=`\n        ${style}\n        <div class="movieContiner">\n            <div class="movieItem">\n            \n            </div>\n        </div>\n        `,this.shadowRoot.appendChild(t.content.cloneNode(!0))}async connectedCallback(){const t=await tvSeries(),e=this.shadowRoot.querySelector(".movieItem");t.slice(0,20).forEach((t=>{const n=document.createElement("div");n.classList.add("movie"),n.innerHTML=`\n            <img src="https://image.tmdb.org/t/p/w500/${t.poster_path}" alt="${t.name}">\n            <h3>${t.name}</h3>\n            <p>${t.first_air_date}</p>\n            <button class="btn-detail" data-movie-id="${t.id}">Detail</button>\n            `,e.appendChild(n)})),this.shadowRoot.querySelectorAll(".btn-detail").forEach((t=>{t.addEventListener("click",(()=>{const e=t.getAttribute("data-movie-id");window.location.href=`page/film.html?id=${e}`}))}))}}customElements.define("anime-list",AnimeList);