import{superHeroMovies}from"../js/api";import style from"../js/style";class superHeroFilms extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const e=document.createElement("template");e.innerHTML=`\n        ${style}\n        <div class="movieContiner">\n            <div class="movieItem">\n        \n            </div>\n        </div>\n        `,this.shadowRoot.appendChild(e.content.cloneNode(!0))}async connectedCallback(){const e=await superHeroMovies(),t=this.shadowRoot.querySelector(".movieItem");e.slice(0,10).forEach((e=>{const o=document.createElement("div");o.classList.add("movie"),o.innerHTML=`\n            <img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="${e.title}">\n            <h3>${e.title}</h3>\n            <p>${e.release_date}</p>\n            <button class="btn-detail" data-movie-id="${e.id}">Detail</button>\n            `,t.appendChild(o)})),this.shadowRoot.querySelectorAll(".btn-detail").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-movie-id");window.location.href=`page/film.html?id=${t}`}))}))}}customElements.define("superhero-film",superHeroFilms);